const total_unique_animation_list = ["Jumping Up", "Jazz Dancing", "Hanging", "Scary Clown Idle", "Jump Up", "Left Cover Sneak W/ Rifle", "Samba Dancing", "Sprint Forward Right", "Standing Torch To Crouch Torch", "Arms Hip Hop Dance",
"Victory", "Standing Torch Turn Right 90", "Prone Left Turn", "Golf Drive", "Standing Dodge Forward", "Cartwheel", "Goalkeeper Idle", "Jump Over", "Run Forward Right", "Bboy Pose To Idle",
"Running Crawl", "Standing Cover Turn", "Crouch Strafe Run Left", "Catwalk Idle 02", "Gunplay", "Stop Walking With Rifle", "Sitting Disbelief", "Meia Lua De Compasso Back", "Opening Door Inwards", "Entry",
"Belly Dance", "Fall A Land To Standing Idle 01", "Golf Bad Shot", "Shaking It Off", "Standing Turn Right 90", "Focus", "Standing Torch Burn Webs", "Quick Formal Bow", "Walk Backward", "Catwalk Idle Twist L",
"Drunk Walk", "Injured Backwards Turn Left", "Drawing Gun", "Zombie Agonizing", "Rockin' Shackle B", "Zombie Stand Up", "Great Sword Crouching", "Upward Thrust", "Standing React Small From Front 02", "Blocking",
"Left Turn W/ Briefcase", "Unarmed Grab Torch From Floor", "Stand To Freehang", "House Dancing", "Cautious Backward Walk", "Northern Soul Floor Combo", "Drunk Walking Turn", "Northern Soul Spin Combo", "Flying Kick", "Action Adventure Pack",
"Standing 2H Magic Attack 03", "Look Behind Run", "Crouched Sneaking Right", "Breakdance Pack", "Esquiva 4", "Strut Walking", "Right Cover Sneak W/ Rifle", "Cheering", "Charge", "Piano Playing",
"Rifle Start Run", "Standing Torch Melee Attack 05", "Dwarf Idle", "Gestures Pack Basic", "Running Backward", "Happy", "Female Locomotion Pack", "Jog Strafe Right", "Left Shimmy", "Male Dynamic Pose",
"Great Sword Attack", "Chicken Dance", "Dwarf Walk", "Plank", "Medium Left Side Step", "Zombie Run", "Crawl Forward", "Treadmill Running", "Dancing", "Catwalk Idle To Walk Forward Crossed",
"Scary Clown Stopping", "Free Hang Hop Right", "Shooter Pack", "Asking Question", "Standing Fist Pump", "Grab Rifle From The Side And Put Back", "Walk In Circle", "Breakdance Footwork 2", "Magic Spell Casting", "Breakdance Footwork To Freeze",
"Batter On Deck", "Butterfly Twirl", "Boxing", "Injured Wave Idle", "Big Side Hit", "Grab Rifle From Behind Shoulder", "Pistol Aim", "Hit To Side Of Body", "Turning Right 90 Degrees", "Laying Sleeping",
"Taken Hostage - Victim", "Neutral Idle", "Defeat", "Standing Melee Attack 360 Low", "Mutant Jumping", "Cross Punch", "Receive Punch To The Face", "Kneel", "Crouch Idle 02 Looking Around", "Hanging Idle",
"Head Gesture", "Stumbling", "Injured Run Backwards Right Turn", "Standing Torch Idle 03", "Hiding", "Heavy Weapon Swing", "Short Step Forward", "Draw A Great Sword 1", "Strangling", "Crouch Torch Turn Left 90",
"Rifle Aim To Kneel", "Breakdance Uprock Var 1", "Drunk Walk Backwards", "Sitting Rubbing Arm", "Talking On A Cell Phone", "Moving Object", "Jumping", "Unarmed Walk Back", "Short Left Side Step", "Standing Torch Turn Left 90",
"Run Arc Left", "Push Stop", "Quad Punch", "Crossleg Freeze", "Pushing", "Insult", "Catwalk Sequence 01", "Walk Crouching Forward", "Goalkeeper Scoop", "Freehang Drop",
"Great Sword High Spin Attack", "Tripping", "Vault Over Box", "Header", "Catwalk Walk Turn 180 Tight L", "Air Squat Bent Arms", "Laying Hand Gesture", "Sprint Backward Right", "Block With Rifle", "Turning Right",
"Catwalk Walk Turn 180 Wide L", "Baseball Walk In", "Jumping Jacks", "Crouch Walking Backwards", "Fist Fight A", "Throw Object", "Fall A Loop", "Standing Death Right 02", "Golf Pre-Putt", "Head Hit",
"Standing Using Touchscreen Tablet", "Pistol Idle", "Spell Casting", "Pro Rifle Pack", "Illegal Headbutt", "Dribble", "Injured Walk Right Turn", "Roll Kicking", "Pull Plant", "Sitting Talking",
"Looking Through Files Low", "Fight Idle To Standing Idle", "Receiver Catch", "Golf Tee Up", "Pull Heavy Object", "Having A Meeting, Male", "Sword And Shield Crouch Idle", "Zombie Idle", "Being Cocky", "Left Strafe Walking",
"Crouch Walk Strafe Left", "Injured Run", "Standing Dodge Backward", "Getting Thrown", "Honking Horn", "Laying Moaning", "Rifle 8-Way Locomotion Pack", "Standing Idle To Crouch", "Running Backward Arc", "Turn To Running",
"Run Forward Arc Right", "Rifle Kneel To Stand", "Standing Equip Bow", "Falling Back Death", "Standing Run Right", "Standing Death Left 01", "End Plank", "Jogging", "Standing React Small From Back", "Grabbing Pistol",
"Laying Shaking Head", "Standing React Large Gut", "Sword And Shield Impact", "Basic Locomotion Pack", "Left Cover Sneak", "Rifle Jump", "Silly Dancing", "Thriller Part 3", "Standing Torch Melee Attack 01", "Front Twist Flip",
"Drunk Idle Variation", "Receive Stomach Uppercut", "Sword And Shield 180 Turn", "Standing Idle Looking Ver. 2", "Smoking", "Mutant Right Turn 45", "Lying Down", "Standing W/Briefcase Idle", "Jumping Out Of A Plane", "Gaming",
"Back Flip To Uppercut", "Turn 90 Left", "Zombie Dying", "Offensive Idle", "Sprint Right", "Sprint Backward Left", "Hard Head Nod", "Macarena Dance", "Breakdance Uprock Var 1 End", "Shoulder Hit And Fall",
"Running Arc", "Talking Phone Pacing", "Burpee End", "Sitting Idle", "Standing", "Crouch Walk Right", "Body Jab Cross", "Standing Disarm Underarm", "Unarmed Jump Running", "Scary Clown Start Walking",
"Zombie Scratch Idle", "Crouch Stop Walking", "Rifle Hit To Back", "Sitting Victory", "Release Hostage - Villain", "Put Back Rifle", "Great Sword Turn", "Jump To Hang", "Idle To Braced Hang", "Queshada 2",
"Rifle Put Away", "Standing Torch Run Forward", "Rifle Crouch Walk To Idle", "Catwalk Twist R To Walk 180", "Swing To Land", "Jump Push Up", "Action Idle To Standing Idle", "Draw A Great Sword 2", "Stepping Forward", "Crouch Turn To Stand",
"Jog Backward", "Rifle Kneel To Prone", "Grab And Slam", "Run To Rolling", "Tut Hip Hop Dance", "Goalkeeper Sidestep", "Having A Meeting, Female", "Catwalk Idle To Walk Forward", "Standing Torch Run Forward Stop At Edge", "Jumping To Hanging",
"Crouch To Standing", "Walking Backward", "Hit To Body", "Taken Hostage - Villain", "Running Turn 180", "Standard Idle", "Sending Fax", "Using A Fax Machine", "Angry Gesture", "Left Turn W/Briefcase",
"Zombie Turn", "Sword And Shield Turn", "Hip Hop Dancing", "Bicep Curl", "Calling", "Walker Walk", "Mutant Roaring", "Scared", "Right Strafe", "Push Start",
"Standing Idle Looking Ver. 1", "Yelling", "Rifle Rubbing Eyes", "Talking At Watercooler", "Standing React Small From Right", "Laying Severe Cough", "Vampiric Bite", "Kneeling Down", "Reacting", "Catwalk Idle To Twist R",
"Throw In", "Opening A Filing Cabinet", "Catwalk Walk", "Emerging", "No", "Reaction", "Meia Lua De Compasso", "180 Turn W/ Briefcase", "Warrior Idle", "Swing Into Wall",
"Walking Hit Reaction", "Situp To Idle", "Lower Pistol", "Crouch Torch Idle 01", "Rifle Prone To Kneel", "Victory Idle", "Baseball Step Out", "Header Soccerball", "Great Sword Walk", "Standing Block Idle",
"Run And Swing", "Golf Drive Setup", "Grenade Throw", "Walk W/ Briefcase", "Spin Flip Kick", "Rifle Idle", "Strong Gesture", "Light Hit To Head", "Illegal Elbow Punch", "Inward Block",
"Relieved Sigh", "Drop To Freehang", "Watering", "Walk Backwards", "Cover To Stand", "Injured Walking", "Pick Up Item", "Sitting Dazed", "Stroke Shrugging", "Great Sword Impact",
"Rifle Run", "Yelling While Standing", "Being Carried", "Right Block", "Braced Hang Hop Left", "Idle Aiming", "Put Back Rifle Behind Shoulder", "Bboy Hip Hop Move", "Slipping", "Crouched Walking",
"Laying", "Sitting Weapon Strike", "Walk Crouching Forward Left", "Standing React Small From Headshot", "Jab Cross", "Idle To Sprint", "Entering Code", "Sitting Weapon Grab", "Run Strafing Jump", "Holding Turn Left",
"Standing Walk Left", "Catwalk Twist L To Twist R", "Goalkeeper Diving Save", "Golf Putting Victory", "Burpee", "Mutant Right Turn 90", "Catwalk Walk Forward Arc 90R", "Rifle Aiming Idle", "Armada To Esquiva", "Goalkeeper Overhand Throw",
"Drinking Fountain", "Iv Pole Walking", "Typing", "Rifle Prone Hit Reaction", "Standing Death Forward 02", "Nervously Look Around", "Pacing And Talking On A Phone", "Magic Heal", "Pistol Walk Backward Arc", "Sitting Dodges",
"Release Hostage - Hostage", "Standing Aim Idle 01", "Injured Turn Left", "Turning", "Crouch Idle", "Female Action Pose", "Big Hit To Head", "Standing Torch Run Right", "Standing Melee Combo Attack Ver. 3", "Rifle Walk",
"Rifle Death", "Pistol Strafe", "Walk Forward Right", "Prone Roll", "Strike Foward Jog", "Injured Walk Left Turn", "Thoughtful Head Nod", "Throw", "Crouch Idle 01", "Working On Device",
"Receive", "Catwalk Walk Forward 02", "Unarmed Idle Looking Ver. 1", "Rifle Kneel Idle", "Injured Run Jump", "Standing Disarm Over Shoulder", "Sheathing Sword", "Stabbing", "Inspecting", "Crouch Torch Walk Back",
"Fight Idle To Action Idle", "Standing Clap", "Standing Torch Inspect Downward", "Circle Crunch", "Free Hang Hop Left", "Speedbag", "Stepping Backward", "Getting Smashed", "Running Right Turn", "Standing Melee Punch",
"Mutant Jump Attack", "Breakdance Ending 1", "Standing Run Left", "Sprint", "Prone Firing Rifle", "Using An Inhaler", "Box Jump", "Zombie Stumbling", "Dice Idle", "Digging",
"Annoyed Head Shake", "Mutant Dying", "Ascending Stairs", "Removing Driver", "End Bicycle Sit Up", "Crouch To Prone", "Kick Soccerball", "Pro Longbow Pack", "Sitting Gun Motion", "Catwalk Walk Forward Arc 90L",
"Unarmed Jump", "Catwalk Twist R To Twist L", "Great Sword Strafe", "Flair", "Single Step Right", "Female Dynamic Pose", "Forward Jump", "Casting Spell", "Standing To Crouched", "Defeat Idle",
"Standing Draw Arrow", "Falling Into Pool", "Start Walking", "Withdrawing Sword", "Zombie Walk", "Walk Backwards Stop", "Breakdance Uprock To Ground", "Texting And Walking", "Slide Hip Hop Dance", "Swagger Walk",
"Getting Up", "Crouch Walk Strafe Right", "Dodging", "Walk Forward Arc", "Wheelchair", "Run Backward", "Petting", "Idle Transition", "Golf Post-Swing", "Brutal To Happy Walking",
"Football Stance", "Two Hand Spell Casting", "Laying Nodding", "Thriller Part 4", "Fist Fight B", "Injured Hurting Idle", "Rallying", "Zombie Transition", "Falling Forward Death", "Great Sword Jump Attack",
"Standing Cover To Cover", "Standing Death Left 02", "Golf Post Shot", "Side Kick", "Crawl Backwards In Prone", "Writhing In Pain", "Pistol Run Arc", "Standing Torch Walk Forward Stop Edge", "Sitting Disapproval", "Crouch Walk Left",
"Receiving An Uppercut", "Yelling Out", "Mutant Punch", "Baseball Umpire", "Kneeling Pointing", "Swimming", "Stand To Roll", "Jab To Elbow Punch", "Northern Soul Floor Spin", "Picking At Shirt",
"Hit On Legs", "Spat In Face", "Zombie Reaction Hit", "Push Up", "Male Laying Pose", "Loser", "Rifle Punch", "Walk", "Walk Backward Arc Right", "Lite Rifle Pack",
"Toss Grenade", "Falling Idle", "Injured Run Backwards Left Turn", "Rifle Walk To Stop", "Goalkeeper Pass", "Standing Torch Walk Forward", "Agony", "Bashful", "Taking Punch", "Headspin End",
"Slim Shooter Pack", "Leaning On A Wall", "Esquiva 3", "Walk Right", "Shake Gesture", "Leaning", "Ginga Sideways To Au", "Long Step Forward", "Stop Walking", "Breakdance Ready",
"Medium Hit To Head", "Quarterback Pass", "Restrain", "Brutal Assassination", "Standing Aim Recoil", "Drunk Run Forward", "Prone Idle", "Firing Rifle", "Roll Left", "Shopping Cart Dance",
"Pointing Forward", "Zombie Neck Bite", "Standing Walk Back", "Injured Run Left Turn", "Inside Crescent Kick", "Catwalk Walk Turn 180 Wide R", "Run Backward Right", "Shrugging", "Superhuman Choke Lift", "Box Idle",
"Bayonet Stab", "Breakdance Uprock", "Two Hand Sword Combo", "Reaching Down", "Sitting Angry", "Tender Placement", "Prone Forward", "Looking Around", "Receive Soccerball", "Rifle Backward Run To Stop",
"Sword And Shield Idle", "Thrust Slash", "Dropping", "Quick Roll To Run", "Defender", "Standing React Death Backward", "Walk Backward Left", "Football Hike", "Inverted Double Kick To Kip Up", "Standing Run Back",
"Counting", "Ymca Dance", "Sumo High Pull", "Bartending", "Female Peek And Aim", "Pull Heavy Object Stop", "Uppercut Jab", "Braced Hang Hop Up", "Injured Backwards Turn Right", "Being Electrocuted",
"Walk Backward Right", "Sheath A Great Sword 1", "Sitting", "Big Jump", "Running To Stop", "Sword Fight One", "Crouch Look Around Corner", "Hit On Side Of Body", "Fire Rifle", "Laughing",
"Military Signaling", "Tonic Seizure", "Lite Magic Pack", "Ginga Variation 3", "Braced Hang To Crouch", "Free Test Pack", "Entering Car", "Jostled Passenger", "Standing React Large From Right", "Hostage Situation Idle - Hostage",
"Walking Left Turn", "Catwalk Idle 01", "Standing Aim Idle 02 Looking", "Left Pivot", "Standing Aim Walk Right", "Running Jump", "Pistol Kneel To Stand", "Yawn", "Shaking Dice", "Death From Front Headshot",
"Idle Crouching", "Rib Hit", "Step Hip Hop Dance", "Taunt", "Walking Turn 180", "Pistol Walk", "Standing Torch Run Back", "Start Walking Backwards", "Standing Death Backward 01", "Backward Right Turn",
"Climbing Down", "Stomping", "Standing 2H Magic Attack 04", "Climbing To Top", "Female Stop And Start Walking", "Box Walk Arc", "Smash", "Standing React Death Right", "Standard Walk", "Run Backwards",
"Meia Lua De Frente", "Run Forward Left", "Backflip", "Standing Torch Turn Left 180", "Standing React Large From Left", "Climbing Down Wall", "Standing Idle 02 Looking", "Standing Melee Attack Backhand", "Ducking", "Standing Melee Combo Attack Ver. 1",
"Standing Turn 90 Right", "Standing Idle To Action Idle", "Aiming", "Strafe Left", "Ginga Sideways 1", "Plotting", "Right Turn", "Breakdance Ending 3", "Bouncing Fight Idle", "Drinking",
"Sword And Shield Crouch Block", "Standing Walk Forward", "Standing Disarm Bow", "Long Right Side Step", "Illegal Knee", "Using A Filing Cabinet", "Shaking Hands 2", "Catwalk Sequence 03", "Hard Landing", "Falling To Landing",
"Rifle Side Step", "Run And Throw Grenade", "Standing Taunt Chest Thump", "Goalie Throw", "Fallen Idle", "Sitting Drinking", "Moving Backward In Crawl Position", "Standing Sprint Forward", "Pulling Lever", "Pistol Kneeling Idle",
"Catwalk Sequence 05", "Sword And Shield Kick", "Ginga Variation 2", "Run Forward Arc Left", "Standing Torch Melee Attack Stab", "Jog In Circle", "Standing Aim Walk Forward", "Combo Punch", "Sprint Left", "Frisbee Throw",
"Punch Combo", "Punch To Elbow Combo", "Descending Stairs", "Picking Up", "Breakdance Freeze Var 1", "Situps", "Standing Torch Run Left", "One Shoulder Lean", "Knock Off Assailant", "Closing",
"Shake Fist", "Standing Torch Melee Attack 02", "Kicking", "Great Sword Idle", "Dancing Maraschino Step", "Holding Walk", "Great Sword Slide Attack", "Two Handed Sword Death", "Shove Reaction", "Stumble Backwards",
"Blocking Attack", "Freehang Climb", "Standing Block React Large", "Rifle Aim To Down", "Flip Kick", "Standing Up", "Catwalk Walk Forward 01", "Shoulder Throw, Aggressor", "Rifle Stand To Kneel", "Teeter Transition",
"Stomp", "Hiding Grab", "Start Climbing Ladder", "Lifting Object", "Rejected", "Walking Backward Arc Right", "Medium Right Side Step", "Walk Strafe Left", "Sprint Forward Left", "Catwalk Walk Forward Crossed",
"Happy Walk Forward Arc Left", "Crouch Run Backwards", "Male Crouch Pose", "Right Turn W/ Briefcase", "Baseball Catcher", "Drunk Turn", "Crazy Gesture", "Standard Run", "Standing Idle 03", "Angry",
"Walking Up The Stairs", "Injured Run Right Turn", "Sprint Forward", "Shoulder Rubbing", "Kiss", "Right Shimmy", "Happy Idle", "Standing Aim Walk Left", "Walk Crouching Backward Right", "Soccer Tackle",
"Sword And Shield Block", "Fast Run", "Shooting Gun", "Dancing Twerk", "Body Block", "Falling", "Jump Backward", "Looking", "Unarmed Turn Right 90", "Male Dance Pose",
"Stand To Cover", "Crouch Walk Backwards Stop", "Armada", "Standing 2H Magic Attack 01", "Grab Rifle From Back", "Big Body Blow", "Golf Putt Failure", "Paddling", "Laying Seizure", "Stall Soccerball",
"Great Sword Kick", "Laying Shrugging", "Turn To Knocked Unconscious", "Front Raises", "Laying Breathless", "Opening", "Agreeing", "Punching", "Jumping Over Into Combat", "Braced Hang Hop Right",
"Injured Turn Right", "Standing Block Start", "Cover Idle", "Death From The Back", "Pistol Walk Backward", "Zombie Headbutt", "Being Strangled", "Rifle Crouch Walk To Kneel", "Northern Soul Spin", "Soccer Pass",
"Head Nod Yes", "Standing React Death Forward", "Headspin Start", "Hit On Back Of Head", "Hokey Pokey", "Pistol Run", "Zombie Death", "Double Dagger Stab", "Terrified", "Weight Shift",
"Walk Crouching Right", "Braced Hang Shimmy", "Breakdance Freezes", "Hands Forward Gesture", "Hit By Car", "Kidney Hit", "Pull Heavy Object Start", "Martelo Do Chau", "Moonwalk", "Standing Jump Running",
"Exiting Car", "Pistol Run Backward", "Scary Zombie Pack", "Stop Jumping Jacks", "Look Away Gesture", "Angry Point", "Big Rib Hit", "Crouched Run", "Air Squat", "Prone Backwards Start",
"Stable Sword Outward Slash", "Standing React Large From Back", "Sword And Shield Strafe", "Shooting Pistol", "Diagonal Wall Run", "Edge Slip", "Jump From Wall", "Kicking Out", "Zombie Kicking", "Unarmed Idle 01",
"Creature Pack", "Pistol Whip", "Unarmed Run Forward", "Catwalk Walking", "Quick 180 Turn", "Zombie Crawl", "Catwalk Walk Turn 180 Tight", "Slash Advance", "Crouch Cover Turn", "Run",
"Football Catch", "Sword And Shield Attack", "Grab Rifle From The Side", "Gathering Objects", "Jog Forward", "Idle To Situp", "Sprint To Backslide", "Pro Melee Axe Pack", "Death From Right", "Goofy Running",
"Injured Run Backwards", "Goalkeeper Directing", "Goalkeeper Placing Ball", "Stylish Flip", "Crouched Strafe Run", "Crouch Walk Forward", "Fishing Cast", "Zombie Biting", "Pull Pilot From Seat", "Knee Jabs To Uppercut",
"Taunt Gesture", "Sheath A Great Sword 2", "Standing Block End", "Soccer Penalty Kick", "Pistol Jump", "Crouch Death", "Standing Death Right 01", "Flying Back Death", "Stand To Sit", "Running",
"Knocked Unconscious", "Pistol Walk Arc", "Standing Arguing", "Jump Down", "Strafing", "2hand Idle", "Getting Bit", "Left Turn 90", "Sword And Shield Casting", "Farming Pack",
"Backward Walking Turn", "Look Around", "Stroke Hand Gesture", "Female Sitting Pose", "Running Tired", "Mutant Swiping", "Standing Dodge Left", "Stroke Shaking Head", "Prone Forward Stop", "Catwalk Sequence 04",
"Start Plank", "Breakdance Footwork To Idle", "Crouching Idle", "Stroke Nodding", "Jumping Down", "Side Step", "Catwalk Idle To Twist L", "Happy Hand Gesture", "Breakdance 1990", "Idle To Push Up",
"Catwalk Walk Start Backwards 180L", "Rifle Jump In Place", "Zombie Attack", "Pike Walk", "Jump", "Stand", "Chapa-Giratoria", "Crouch To Stand", "Standing Run Forward Stop", "Standing Jump Running Landing",
"Standing Aim Walk Back", "Taking A Pill", "Queshada 1", "Wave Hip Hop Dance", "Outward Block", "Standing 1H Magic Attack 02", "Right Cover Sneak", "Male Sitting Pose", "Shaking Hands 1", "Drunk Running Left Turn",
"Aim Pistol", "Waking", "Standing Torch Idle 04", "Happy Right Turn", "Prone To Crouch Transition", "Fist Pump", "Walking To Dying", "Twist Dance", "Pro Magic Pack", "Mutant Idle",
"Prone Right Turn", "Standing Melee Kick", "Pistol", "Walk Backward Arc Left", "Throw Grenade", "Crouch Torch Walk Right", "Pilot Flips Switches", "Ninja Idle", "Side Hit", "Standing Idle 02",
"Talking On Phone", "Rifle Pull Out", "Walk Backward Arc", "Standing Walk Right", "Catwalk Walk Turn 180 Tight R", "Sword And Shield Crouch Block Idle", "Knife Idle", "Chapaeu De Couro", "Turning Right 45 Degrees", "Catwalk Walk Forward",
"Unarmed Equip Torch 01", "Bellydancing", "Knocked Out", "Lengthy Head Nod", "Weight Shift Gesture", "Talking", "Baseball Step In", "Shoot Rifle", "Standing Idle 03 Examine", "Right Pivot",
"Hell Slammer A", "Magic Spell Pack", "Soccer Game Pack", "Standing Torch Light Torch", "Catwalk Walk Forward Turn 90R", "Plant Tree", "Rumba Dancing", "Standing Cheering", "Drunk Run Backward", "Rapping",
"Pointing", "Holding Idle", "Female Dance Pose", "Jog Backward Diagonal", "Playing Drums", "Falling Flat Impact", "Transition", "Happy Walk", "Rifle Down To Aim", "Unarmed Turn Left 90",
"Laying Mild Cough", "Standing Idle", "Seated Idle", "Standing Torch Idle 02", "Sword And Shield Power Up", "Warming Up", "Guitar Playing", "Mutant Run", "Hit To The Legs", "Standing Melee Attack Horizontal",
"Swing Dancing", "Treading Water", "Surprise Uppercut", "Pulled From Seat", "Overhead Squat", "Injured Jog", "Snatch", "Female Basic Locomotion Pack", "Standing Idle 01", "Drop Kick",
"Standing React Death Left", "Standing Turn 90 Left", "One Hand Sword Combo", "Slow Run", "Baseball Strike", "Dying", "Run Backward Left", "Start Swinging", "Unarmed Idle", "Walking While Texting",
"Strafe Right", "Playing The Violin", "Elbow Uppercut Combo", "Sword And Shield Crouching", "Stand Cover To Look", "Catwalk Sequence 02", "Clapping", "Catwalk Walk Start Turn 180 Left", "Crouch Torch Walk Left", "Booty Hip Hop Dance",
"Bash", "Run Forward", "Push Up To Idle", "Running Slide", "Pistol Stand To Kneel", "Praying", "Robot Hip Hop Dance", "Receiving Cpr", "Walk Strafe Right", "Creature NPC Pack",
"Jog Strafe Left", "Stunned", "Braced Hang", "Dive Roll", "Surprised", "Great Sword Blocking", "Left Block", "Turn Left 45 Degrees", "Crying", "Female Laying Pose",
"Stomach Hit", "Crouch To Standing Idle", "Sneak Walk", "Walk Crouching Backward", "Flying Shoulder Throw", "Spinning", "Arm Stretching", "Idle", "Unarmed Walk Forward", "Upward Rifle Butt Strike",
"Sitting Fist Pump", "Walk Forward", "Martelo Do Chau Sem Mao", "Crouching Turn 90 Right", "Zombie Punching", "Flying Knee Punch Combo", "Male Locomotion Pose", "Rope Swinging", "Quick Informal Bow", "Short Right Side Step",
"Male Drunk Pack", "Run To Flip", "Sword And Shield Jump", "Whatever Gesture", "Northern Soul Dance", "Sword And Shield Pack", "Great Sword Jump", "Closing A Lid", "Magic Locomotion Pack", "Female Tough Walk",
"Rifle Crouch Idle To Walk", "Injured Walk", "Reaching Out", "Livershot Knockdown", "Jogging Stumble", "Thinking", "Mutant Breathing Idle", "Big Stomach Hit", "Sitting Yell", "Baseball Walk Out",
"Standing Melee Attack 360 High", "Dual Weapon Combo", "Cheering While Sitting", "Unarmed Equip Over Shoulder", "Esquiva 5", "Hostage Situation Idle - Villain", "Lead Jab", "Golf Putt Victory", "Running Up Stairs", "Sitting Clap",
"Disarmed", "Knee Kick Lead", "Au", "Standing Run Forward", "Two Hand Club Combo", "Standing Torch Idle 01", "Sad Idle", "Sweep Fall", "Chapa 2", "Walking Arc Left",
"Plant A Plant", "Left Strafe", "Soccer Header", "Crouch To Standing With Rifle", "Crouch Idle 03 Looking Over", "Opening A Lid", "Unarmed Run Back", "Bboy Uprock Start", "Hand Raising", "Sword And Shield Death",
"Crawl Backwards", "Standing Jump", "Standing Melee Attack Kick Ver. 1", "Run Look Back", "Shooting", "Fall Over", "Catwalk Walk Stop", "Crouch Torch Idle 02", "Sheath Sword 1", "Wide Arm Spell Casting",
"Female Stop Walking", "Standing Turn Left 90", "Standing React Small From Left", "Pointing Gesture", "Female Locomotion Pose", "Rifle Kneel To Aim", "Standing Torch Jump Running To Standing Idle", "Cross Jumps", "Push", "Skinning Test",
"Walk With Briefcase", "Rifle Turn", "Dizzy Idle", "Thriller Part 1", "Salsa Dancing", "Intercepting", "Dismissing Gesture", "Hook Punch", "Kettlebell Swing", "Walking",
"Laying Idle", "Turn Right", "Spit Reaction", "Turn 90 Right", "Catwalk Walk Forward Turn 90L", "Standing Thumbs Up", "Fight Idle", "Standing Block", "Kneeling Idle", "Wheelbarrow Walk Turn",
"Shuffling", "Waving Gesture", "Pick Fruit", "Standing Death Forward 01", "Goalkeeper Catch", "Open Door Outwards", "Walking With Shopping Bag", "Rifle Idle To Crouch", "Pulling A Rope", "Bencao",
"Double Leg Takedown - Victim", "Reload", "Baseball Idle", "Fall A Land To Standing Idle 02", "Leg Sweep", "Looking Behind", "Walk With Rifle", "Bboy Uprock", "Left Strafe Jump", "Swimming To Edge",
"Catwalk Walk Crossed Stop", "Turn Left", "Check Shoe", "Slow Jog Backwards", "Crouch Walk Back", "Mutant Left Turn 45", "Crouch Cover To Cover", "Stable Sword Inward Slash", "Rasteira 2", "Sword And Shield Run",
"Standing Torch Light Torch From Wall", "Walk Forward Left", "Catwalk Idle", "Backward Jump", "Wheelbarrow Walk", "Low Crawl", "Rifle Run To Stop", "Run Backward Arc Right", "Great Sword Power Up", "Breakdance Footwork 1",
"Threatening", "Standing Torch Melee Attack 03", "Sword And Shield Block Idle", "Male Standing Pose", "Start Bicycle Sit Up", "Injured Idle", "Finding", "Acknowledging", "Draw Sword 2", "Looking Down",
"Standing Dodge Right", "Slow Jog", "Unarmed Equip Torch 02", "Run Right", "Kick To The Groin", "Great Sword Slash", "Standing 2H Magic Attack 05", "Standing Melee Run Jump Attack", "Standing Torch Walk Left", "Breakdance Freeze Var 3",
"Standing Dive Forward", "Catwalk Idle To Walk Forward HighKnees", "Female Crouch Pose", "Sword And Shield Walk", "Braced Hang Drop", "Roundhouse Kick", "Standing 2H Magic Area Attack 02", "Double Leg Takedown - Attacker", "Dancing Running Man", "Soccer Trip",
"Braced To Free Hang", "Walking Backwards", "Death Crouching Headshot Front", "Baseball Pitching", "Swatting Bugs", "Can Can", "Shoulder Throw, Victim", "Dodge While Sitting", "Quick Steps", "Excited",
"Hit On Side Of Head", "Sword And Shield Crouch", "Waving", "Baseball Step Up To Bat", "Fall A Land To Run Forward", "Thriller Idle", "Rifle Kneel Hit To Back", "Thriller Part 2", "Standing Torch Light Torch From Fire", "Sitting Thumbs Up",
"Crouch Torch Turn Right 90", "Getting Hit Backwards", "Breakdance Ending 2", "Aerial Evade", "Cow Milking", "Catwalk Walk Start Backwards 180R", "Run To Dive", "Stealth Assassination", "Getting Hit", "Searching Pockets",
"Standing React Large From Front", "Climbing A Rope", "Spell Cast", "Ginga Variation 1", "Standing Idle 04", "Crouched To Sprinting", "Standing Torch Inspect Forward", "Back Squat", "Kneeling Inspecting", "Arm Gesture",
"Bored", "Scissor Kick", "Falling From Losing Balance", "Breakdance Footwork 3", "Standing Torch Walk Right", "Standing Torch Walk Back", "Start Jumping Jacks", "Chapa Giratoria 2", "Esquiva 2", "Crouching Turn 90 Left",
"Idle To Running", "Mma Kick", "Left Turn", "Sit To Type", "Pistol To Idle", "Spin In Place", "Medium Step Forward", "Drunk Idle", "Wheelbarrow Dump", "Joyful Jump",
"Roar", "Corkscrew Kip Up", "Baseball Bunt", "Mutant Walking", "Female Standing Pose", "Baseball Hit", "Death From Back Headshot", "Taking Cover", "Standing Torch Jump Running", "Death From The Front",
"Action Idle To Fight Idle", "Crawling Backwards", "Baseball Milling Idle", "Crouch Torch To Standing Torch Idle", "Male Injured Pack", "Catwalk Twist L To Walk 180", "Standing 1H Magic Attack 03", "Pistol Run Backward Arc", "Piloting", "Breakdance Swipes",
"Standing Melee Combo Attack Ver. 2", "Catwalk Walk Stop Twist R", "Right Turn 90", "Jumping Rope", "Two Cycle Sprint", "Rifle Shielding Face", "Aiming Gun", "Gangnam Style", "Orc Idle", "Great Sword Casting",
"Orc Walk", "Cards", "Backwards Rifle Run", "Standing Yell", "Prone Backwards Stop", "Capoeira", "Fall B Loop", "Teeter", "Flying", "Step Backward",
"Chip", "Hell Slammer B", "Death", "Type To Sit", "Revealing Dice", "Strafe", "Salute", "Medium Run", "Female Walk", "Crouching",
"Big Kidney Hit", "Troca 1", "Happy Walk Backward", "Standing React Small From Front", "Throwing Dice", "Rifle Crouch Turn", "Male Action Pose", "Climbing", "Struck In Head", "Falling To Roll",
"Sleeping Idle", "Wall Crash", "Dodging Back", "Running Forward Flip", "Dying Backwards", "Dodging Right", "Zombie Scream", "Idle Crouching Aiming", "Goalkeeper Body Block", "Knee Jab",
"Sheath Sword 2", "Mma Idle", "Holding Turn Right", "Hit On The Back", "Swinging", "Injured Walk Backwards", "Soccer Idle", "Rifle Crouch Walk", "Burpee Start", "Listening To Music",
"Writing", "Petting Animal", "Crouched Sneaking Left", "Unarmed Equip Underarm", "Stand To Crouch", "Breakdance Freeze Var 2", "Right Strafe Walk", "Sit To Stand", "Prone Reloading", "Reloading",
"Standing 1H Magic Attack 01", "Run To Stop", "Cocky Head Turn", "Standing Melee Attack Downward", "Pouting", "Standing Land To Standing Idle", "Jog Forward Diagonal", "One Hand Club Combo", "Walk Crouching Left", "Catwalk Walk Forward HighKnees",
"Hook", "Great Sword 180 Turn", "Standing To Crouch", "Kneeing Soccerball", "Box Turn", "Sitting Swinging Weapon", "Singing", "Driving", "Unarmed Grab Torch From Wall", "Kip Up",
"Capoeira Pack", "Hold Off Assailant", "Fireball", "Wobbling", "Stand Up", "Sarcastic Head Nod", "Head Spinning", "Kneeling", "Free Hang To Braced", "Standing Torch Walk Forward Stop",
"Zombie Running", "Martelo 2", "Lite Longbow Pack", "Standing 1H Cast Spell 01", "Long Left Side Step", "Brooklyn Uprock", "Prone Death", "Sad Walk", "Pro Sword And Shield Pack", "Shaking Head No",
"Crouch Turn Left 90", "Sprint Turn", "Rifle Backward Walk To Stop", "Ginga Forward", "Moving While Hanging", "Putting Down", "Pistol Start", "Esquiva 1", "Standing Torch Jump", "Flying Bicycle Kick",
"Catwalk Walk Stop Twist L", "Floating", "Standing 2H Magic Attack 02", "Lite Sword And Shield Pack", "Injured Stumble Idle", "Hit To Head", "Hit Reaction", "Center Block", "Holding Down", "Jump To Freehang",
"Elbow Punching", "Emerge From Cover", "Golf Chip", "Breakdance Freeze Var 4", "Walk Crouching Forward Right", "Golf Putt", "Fishing Idle", "Climbing Up Wall", "Standing Idle To Fight Idle", "Wall Run",
"Sword And Shield Slash", "Rockin' Shackle A", "Scary Clown Walk", "Crouch Turn Right 90", "Harvesting", "Moving Backward In Prone Position", "Basic Shooter Pack", "Walk Crouching Backward Left", "Rope Climb", "Banging Fist",
"Falling Down", "Stepping Left", "Catwalk Walk Start Turn 180 Right", "Clean And Jerk", "Sprinting Forward Roll", "Standing 2H Cast Spell 01", "Rifle Crouch Backward Walk", "Martelo 3"
]

const animation_list = ["Breakdance Uprock",
                        "Brief Stumble While Jogging",
                        "Capoeira Side Kick",
                        "Ecstatic Jumping With Both Legs And Arms",
                        "Eight Punch Combo",
                        "Female Jazz Dancing 'Around The World'",
                        "Female Jazz Square Dancing",
                        "Goalkeeper Catching Ball Low Height",
                        "Grabbing Rifle From Shoulder And Putting Away",
                        "Hard Floor Stomp",
                        "Jumping In Place",
                        "Left To Right Attack With Torch",
                        "Long Head Jab",
                        "Male 180 Turn With Briefcase",
                        "Male Front Snap Kick With The Lead Foot",
                        "Mma Low Kick",
                        "Overhead Squat Workout",
                        "Running Left",
                        "Salsa Dancing Side To Side",
                        "Soccer Header In Place",
                        "Soccer Pass From Idle Pose",
                        "Standard Jumping Jacks",
                        "Standard Running",
                        "Standard Walk",
                        "Standing Right Turn",
                        // "Goalkeeper Placing Ball To Short Pass",
                        // "Female Jazz Dancing 'Around The World'- Loop",
                        // "Standing To Sitting Transition",
                        // "Cheering While Sitting With High Enthusiasm"
                    ]


//=================================================================================================

const bearer = localStorage.access_token

// finding an animation by name
const getAnimationByName = (name) => {
    console.log('Searching:', name);
    const init = {
        method: 'GET',
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${bearer}`,
            'X-Api-Key': 'mixamo2'
        }
    };

    const listUrl = `https://www.mixamo.com/api/v1/products?type=Motion%2CMotionPack&query=${name}`;
    return fetch(listUrl, init).then((res) => res.json()).then((json) => json).catch(() => Promise.reject('Failed to download animation list'))
}

// search by animation id and character id
// retrieves json.details.gms_hash 
const getProduct = (animId, character) => {
    console.log('Getting default settings for motion:', animId);
    const init = {
        method: 'GET',
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${bearer}`,
            'X-Api-Key': 'mixamo2'
        }
    };

    const productUrl = `https://www.mixamo.com/api/v1/products/${animId}?similar=0&character_id=${character}`;
    return fetch(productUrl, init).then((res) => res.json()).then((json) => json).catch(() => Promise.reject('Failed to download product details'))
}

// download one single animation
const downloadAnimation = (animId, character, filename) => {
    return getProduct(animId, character)
            .then((json) => json.details.gms_hash) // get default gms_hash
            .then((gms_hash) => {
                const pvals = gms_hash.params.map((param) => param[1]).join(',')
                const _gms_hash = Object.assign({}, gms_hash, { params: pvals }) // Anim is baked with default param values
                return exportAnimation(character, [_gms_hash], filename)
            })
            .then(a =>
                {return monitorAnimation(character)}
            )
            .catch(() => Promise.reject("Unable to download animation " + animId))
}

// pad leading 0s
const pad = (num) => {
    const padlen = 4;
    var pad = new Array(1 + padlen).join('0');
    return (pad + num).slice(-pad.length);
}

const downloadAnimLoop = (uuid,list,filename) => {
    if (!list.length) {
        console.log('>>> Finished downloading',filename);
        return Promise.resolve('All animations have been downlaoded'); // no anims left
    }
    console.log(list.length+' remaining to be downloaded...');
    current_name = list[0]
    list = list.slice(1);
    return getAnimationByName(current_name)
            .then((result) => {
                if (!result.pagination.num_results) {
                    throw new Error("No animation with such name " + current_name)
                }
                return result
            })
            .then((json) => (
                {
                    id: json.results[0].id,
                    character: uuid
                }))
            .then((curr) => {
                return downloadAnimation(curr.id, curr.character, `${filename}_${current_name}`)
            })
            .then(a => {
                return downloadAnimLoop(uuid,list,filename)}
                ) //loop
            .catch((e) => {
                console.log("Recovering from animation failed to downlaod due to",e);
                return downloadAnimLoop(uuid,list,filename) // keep on looping 
            })
}

const uploadLoop = (idx) => {
    if (idx === files.length + skip) {
        console.log('>>> COMPLETED');
        return Promise.resolve('All animations have been downlaoded'); // no character left
    }
    return startUpload(idx)
        .then((a) => {
            return uploadLoop(idx+1);
        })
        .catch((e) => {
            console.log("Recovering from uploading failed due to",e);
            return uploadLoop(idx+1); // keep on looping 
        })
}

// upload character
const uploadCharacter = (characterFile,fileName) => {
    console.log('Uploading character: ' + fileName)
    const uploadUrl = 'https://www.mixamo.com/api/v1/characters'
    const formData = new FormData();
    formData.append("file", new File([characterFile],fileName));
    const uploadInit = {
        method: 'POST',
        headers: {
            'Accept': 'application/json, text/javascript, */*',
            // 'Content-Type': 'multipart/form-data', // adding this line breaks the request
            'Authorization': `Bearer ${bearer}`,
            'X-Api-Key': 'mixamo2',
            'X-Requested-With': 'XMLHttpRequest'
        },
        body: formData
    }
    return fetch(uploadUrl, uploadInit).then((res) => res.json()).then((json) => json)
}

// export animation
const exportAnimation = (character_id, gmsHashArray, product_name) => {
    console.log("Exporting to:" + product_name + ".fbx")
    const exportUrl = 'https://www.mixamo.com/api/v1/animations/export'
    const exportBody = {
        character_id,
        gms_hash: gmsHashArray, //[{ "model-id": 103120902, "mirror": false, "trim": [0, 100], "overdrive": 0, "params": "0,0,0", "arm-space": 0, "inplace": false }],
        preferences: { format: "fbx7_2019", skin: "true", fps: "30", reducekf: "0" },
        product_name,
        type: "Motion"
    };
    const exportInit = {
        method: 'POST',
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${bearer}`,
            'X-Api-Key': 'mixamo2',
            'X-Requested-With': 'XMLHttpRequest'
        },
        body: JSON.stringify(exportBody)
    }
    return fetch(exportUrl, exportInit)
        .then((res) => {
            switch (res.status) {
                case 404: {
                    const errorMsg = ('ERROR: Export got 404 error: ' + res.error + ' message=' + res.message);
                    console.error(errorMsg);
                    throw new Error(errorMsg);
                } break
                case 429: {
                    console.error("Too many requests");
                    console.log("Retrying export...");
                    wait(1000); // a delay function, should be improved
                    return exportAnimation(character_id, gmsHashArray, product_name);
                } break
                case 202:
                case 200: {
                    return res.json()
                } break
                default:
                    throw new Error('Response not handled', res);
            }
        })
        .then((json) => json)
        .catch((e) => {
            console.error("Exporting error",e)
            return Promise.reject("Unable to export animation" + e)
        })
}

// wait
const wait = (ms) => {
    var start = Date.now(),
        now = start;
    while (now - start < ms) {
      now = Date.now();
    }
}

const monitorAnimation = (characterId) => {
    const monitorUrl = `https://www.mixamo.com/api/v1/characters/${characterId}/monitor`;
    const monitorInit = {
        method: 'GET',
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${bearer}`,
            'X-Api-Key': 'mixamo2'
        }
    };
    return fetch(monitorUrl, monitorInit)
        .then((res) => {
            switch (res.status) {
                case 404: {
                    const errorMsg = ('ERROR: Monitor got 404 error: ' + res.error + ' message=' + res.message);
                    console.error(errorMsg);
                    throw new Error(errorMsg);
                } break
                case 202:
                case 200: {
                    return res.json()
                } break
                default:
                    throw new Error('Response not handled', res);
            }
        }).then((msg) => {
            switch (msg.status) {
                case 'completed':
                    console.log('Downloading:', msg.job_result);
                    downloadingTab.location.href = msg.job_result;
                    return msg.uuid;
                    break;
                case 'processing':
                    console.log('Processing...');
                    wait(1000); // a delay function, should be improved
                    return monitorAnimation(characterId);
                case 'failed':
                    console.error('Job failed due to',msg.job_result.message)
                    return
                default:
                    const errorMsg = ('ERROR: Monitor status:' + msg.status + ' message:' + msg.message + 'result:' + JSON.stringify(msg.job_result));
                    console.error(errorMsg);
                    throw new Error(errorMsg);
            }
        }).catch((e) => {
            console.error("Monitoring error",e)
            return Promise.reject("Unable to monitor job for character " + characterId + e)
        })
}

// Workaround for downloading files from a promise
// NOTE that chrome will detect you are downloading multiple files in a single TAB. Please allow it!
const downloadingTab = window.open('', '_blank');

// const file1 = document.getElementById('uploader').files[0]
// uploadCharacter(file1,"test.py")

// start uploading
const startUpload = (idx) => {
    console.log('>>> Start uploading',pad(idx));
    const file = files[idx-skip]
    const filename = file.name.slice(0,-10) // remove '_yup_a.fbx' at the end

    return uploadCharacter(file,`${filename}.fbx`)
    .then(json => {
        return monitorAnimation(json.uuid)
    })
    .then(uuid => {
        return startDownload(uuid,filename)
    })
    .catch(() => Promise.reject("Unable to upload character number" + pad(idx)))
}

// start downloading
const startDownload = (uuid,filename) => {
    console.log('>>> Start downloading', filename);
    if (!uuid) {
        console.error("No valid character ID");
        return
    }
    if (!animation_list.length) {
        console.error("Please add valid animation IDs at the beginnig of the script");
        return
    }
    return downloadAnimLoop(uuid,animation_list,filename);
}

// all the files selected in browser
const files = document.getElementById('uploader').files
console.log(files.length+" files in total")

const skip = 0
uploadLoop(skip)